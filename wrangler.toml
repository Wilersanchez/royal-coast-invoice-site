name = "royal-coast-invoice-site"
main = ".open-next/worker/index.mjs"

# Ensure Node.js compat AND populate process.env at runtime.
# Easiest: bump the date to 2025-04-01 or later.
compatibility_date = "2025-04-01"
compatibility_flags = ["nodejs_compat"]  # populate_process_env auto-enables with this date

[vars]
# Safe to expose publicly at runtime:
NEXT_PUBLIC_CLERK_PUBLISHABLE_KEY = "pk_test_d2FudGVkLWNyaWNrZXQtMzkuY2xlcmsuYWNjb3VudHMuZGV2JA"

# Optional: quiet Next telemetry in runtime (harmless)
NEXT_TELEMETRY_DISABLED = "1"

# If you have per-environment overrides:
[env.production.vars]
NEXT_PUBLIC_CLERK_PUBLISHABLE_KEY = "pk_test_d2FudGVkLWNyaWNrZXQtMzkuY2xlcmsuYWNjb3VudHMuZGV2JA"
NEXT_TELEMETRY_DISABLED = "1"

[[hyperdrive]]
binding = "HYPERDRIVE_XATA"
# You can inline your Xata connection string directly here:
connection_string = "postgresql://rcqsea:xau_tnMF9zspAuR9jCatf4HKNLb0tAHm2Mev3@us-east-1.sql.xata.sh/sample-invoice-site:main?sslmode=require"

